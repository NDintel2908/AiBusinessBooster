<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BCP Payment Gateway</title>
    <link rel="icon" type="image/png" href="/src/components/landing/favicon.png" />
    <meta name="description" content="BCP Payment Gateway - Redirect to payment provider" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      /* Add custom classes */
      @font-face {
        font-family: 'Orbitron';
        font-style: normal;
        font-weight: 400 700;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/orbitron/v29/yMJMMIlzdpvBhQQL_SC3X9yhF25-T1nyGy6BoWgz.woff2) format('woff2');
      }
      
      :root {
        --neon-blue: rgb(0, 239, 255);
        --electric-purple: rgb(188, 19, 254);
        --bright-teal: rgb(0, 245, 200);
        --deep-dark: rgb(10, 10, 26);
        --dark-purple: rgb(26, 11, 46);
        --card-bg: rgba(18, 18, 36, 0.7);
      }
      
      body {
        font-family: 'Inter', sans-serif;
        background-color: var(--deep-dark);
        background-image: 
          radial-gradient(circle at 20% 30%, rgba(188, 19, 254, 0.1) 0%, transparent 40%),
          radial-gradient(circle at 80% 70%, rgba(0, 239, 255, 0.1) 0%, transparent 40%);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        padding: 0;
        color: white;
      }
      
      .container {
        text-align: center;
        max-width: 600px;
        padding: 2rem;
        border-radius: 12px;
        background-color: rgba(18, 18, 36, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(0, 239, 255, 0.2);
      }
      
      h1 {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        background: linear-gradient(to right, var(--neon-blue), var(--electric-purple));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      p {
        margin-bottom: 1.5rem;
        color: rgba(255, 255, 255, 0.8);
        line-height: 1.6;
      }
      
      .spinner {
        display: inline-block;
        width: 50px;
        height: 50px;
        border: 3px solid rgba(0, 239, 255, 0.3);
        border-radius: 50%;
        border-top-color: var(--neon-blue);
        animation: spin 1s ease-in-out infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      
      .error-message {
        color: #ff6b6b;
        margin-top: 1rem;
        font-weight: 500;
      }
      
      .home-button {
        margin-top: 1.5rem;
        display: inline-block;
        background: linear-gradient(45deg, var(--neon-blue), var(--electric-purple));
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s;
        cursor: pointer;
      }
      
      .home-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 0 15px rgba(0, 239, 255, 0.5);
      }
    </style>
  </head>
  <body>
    <div class="container" id="content">
      <h1>BCP Payment Gateway</h1>
      <p>Đang chuyển hướng đến cổng thanh toán...</p>
      <div class="spinner"></div>
    </div>

    <script>
      // Hàm để lấy tham số từ URL
      function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
      }

      // Hàm chuyển hướng về trang chủ
      function goToHomePage() {
        window.location.href = "/";
      }

      // Thực hiện chuyển hướng
      document.addEventListener('DOMContentLoaded', function() {
        var paymentUrl = getParameterByName('paymentUrl');
        var contentElement = document.getElementById('content');
        
        if (paymentUrl) {
          try {
            // Decode URL và chuyển hướng
            var decodedUrl = decodeURIComponent(paymentUrl);
            console.log('Redirecting to:', decodedUrl);
            
            // Chuyển hướng ngay lập tức
            window.location.href = decodedUrl;
          } catch (error) {
            console.error('Error decoding URL:', error);
            contentElement.innerHTML = `
              <h1>Đã xảy ra lỗi</h1>
              <p class="error-message">Không thể chuyển hướng đến cổng thanh toán</p>
              <button class="home-button" onclick="goToHomePage()">Quay về trang chủ</button>
            `;
          }
        } else {
          // Nếu không có paymentUrl, chuyển hướng về trang chủ sau 2 giây
          console.log('No payment URL provided, redirecting to home page');
          setTimeout(function() {
            window.location.href = "/";
          }, 2000);
        }
      });
    </script>
  </body>
</html>